<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Women Security System App</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(to bottom right, #fff0f5, #ffe4e1);
      color: #333;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    header {
      background-color: #d81b60;
      color: white;
      padding: 24px;
      text-align: center;
      font-size: 36px;
      font-weight: bold;
      position: relative;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }
    #animatedTitle {
      display: inline-block;
    }
    #userGreeting {
      position: absolute;
      top: 12px;
      right: 20px;
      font-size: 15px;
      color: #fff3f3;
    }
    #alarmInfo {
      position: absolute;
      bottom: 10px;
      right: 20px;
      font-size: 14px;
      color: #ffe4e1;
      font-weight: 600;
    }
    .letter {
      display: inline-block;
      font-size: 36px;
      font-weight: bold;
      color: #fff;
      animation: pop 1.5s ease-in-out infinite;
    }
    @keyframes pop {
      0%, 100% {
        transform: scale(1);
        opacity: 0.8;
      }
      50% {
        transform: scale(1.3);
        opacity: 1;
      }
    }
    .app-container {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 30px 10px;
    }
    .button-group {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      width: 100%;
    }
    .button-group button {
      background: linear-gradient(145deg, #ff4081, #ec407a);
      color: white;
      padding: 18px 26px;
      border: none;
      border-radius: 30px;
      font-size: 18px;
      font-weight: 600;
      cursor: pointer;
      width: 49.5%;
      margin: 12px 0.25%;
      transition: all 0.4s ease;
      box-shadow: 0 10px 25px rgba(236, 64, 122, 0.3);
    }
    .button-group button:hover {
      background: linear-gradient(145deg, #c2185b, #ad1457);
      transform: scale(1.06);
    }
    .security-options {
      margin-top: 30px;
      padding: 20px;
      width: 100%;
      background: #f8bbd0;
      text-align: center;
      font-size: 20px;
      font-weight: bold;
      color: #880e4f;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .bottom-box {
      background: #ffe6f0;
      margin: 20px auto;
      padding: 16px;
      width: 90%;
      max-width: 600px;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      text-align: center;
      font-size: 16px;
      color: #ad1457;
    }
    .dark-mode {
      background: linear-gradient(to bottom right, #121212, #1e1e1e);
      color: #eee;
    }
    .dark-mode header {
      background-color: #222;
      color: #f8bbd0;
    }
    .dark-mode .button-group button,
    .dark-mode .bottom-box {
      background: #333;
      color: #f8bbd0;
    }
    iframe {
      width: 100%;
      height: 300px;
      border: none;
      border-radius: 12px;
      margin-top: 15px;
    }
  </style>
</head>
<body onload="initApp()">
  <header>
    <div style="position: absolute; top: 15px; left: 20px;">
      <button onclick="toggleDarkMode()" style="padding: 6px 14px; background: #fff; color: #d81b60; border: none; border-radius: 20px; cursor: pointer;">
        üåô Dark Mode
      </button>
    </div>
    <div id="animatedTitle"></div>
    <div id="userGreeting"></div>
    <div id="alarmInfo"></div>
  </header>

  <div class="app-container">
    <div class="button-group">
      <button onclick="location.href='auth.html'">üîê Authentication & Profile</button>
      <button onclick="location.href='location.html'">üìç Live Location & SOS</button>
      <button onclick="location.href='emergency.html'">üìû Emergency Services</button>
      <button onclick="location.href='admin.html'">üìä Admin Dashboard</button>
      <button onclick="location.href='assistant.html'">üí¨ Virtual Assistant</button>
      <button onclick="location.href='report.html'">üßæ Report & Feedback</button>
      <button onclick="location.href='education.html'">üìö Safety Education</button>
      <button onclick="location.href='notification.html'">üîî Notifications</button>
      <button onclick="location.href='design.html'">üé® Design Enhancements</button>
      <button onclick="location.href='support.html'">ü§ù Integrations & Support</button>
    </div>

    <div class="security-options">
      üîí Security Options: Location Monitoring | Emergency Contacts | Motion Detection | Geo-Fencing Alerts
    </div>

    <div class="bottom-box" style="background: #fce4ec;">
      üí° <strong>Daily Safety Tip:</strong>
      <span id="safetyTip">Click below to see a tip</span><br>
      <button onclick="displayRandomSafetyTip()">Show Tip</button>
    </div>

    <div class="bottom-box" style="background: #f3e5f5;">
      ‚è∞ <strong>Current Time:</strong>
      <span id="liveClock">Click below to view time</span><br>
      <button onclick="updateClock()">Show Time</button>
    </div>

    <div class="bottom-box" style="background: #e1f5fe;">
      üöì <strong>Nearby Police Stations:</strong><br>
      <button onclick="window.open('https://www.google.com/maps/search/police+station+near+me/', '_blank')">
        Show on Google Maps
      </button>
      <iframe
        src="https://www.google.com/maps/embed/v1/search?key=YOUR_API_KEY&q=police+station+near+me"
        allowfullscreen>
      </iframe>
    </div>

    <!-- ‚úÖ AI Chat Assistant Section -->
    <div class="bottom-box" style="background: #e8f5e9;">
      ü§ñ <strong>Ask AI Assistant:</strong><br>
      <input type="text" id="aiQuery" placeholder="Ask about safety, laws, tips..." style="padding:8px; width: 80%; border-radius: 8px; margin-top: 10px;">
      <button onclick="answerAIQuery()" style="margin-top: 10px;">Ask</button>
      <div id="aiAnswer" style="margin-top:10px; font-weight: bold;"></div>
    </div>

    <div class="bottom-box">
      Stay safe and informed. Your security is our priority. Explore features to stay protected and connected.
    </div>
  </div>

  <script>
    const safetyTips = [
      "Always keep your emergency contacts updated.",
      "Avoid walking alone in poorly lit areas.",
      "Use trusted transport services at night.",
      "Keep your phone charged when going out.",
      "Share your trip with friends or family.",
      "Carry a self-defense tool if allowed.",
      "Trust your instincts ‚Äì leave unsafe areas.",
      "Always lock your doors and stay alert."
    ];

    function toggleDarkMode() {
      document.body.classList.toggle("dark-mode");
    }

    function animateTitle() {
      const text = "Women Security System App";
      const container = document.getElementById("animatedTitle");
      container.innerHTML = "";
      let delay = 0;
      const words = text.split(" ");
      words.forEach(word => {
        for (let i = 0; i < word.length; i++) {
          const span = document.createElement("span");
          span.textContent = word[i];
          span.classList.add("letter");
          span.style.animationDelay = `${delay}s`;
          container.appendChild(span);
          delay += 0.1;
        }
        const space = document.createElement("span");
        space.innerHTML = "&nbsp;";
        container.appendChild(space);
        delay += 0.1;
      });
    }

    function displayUserName() {
      const user = localStorage.getItem("username") || "User";
      document.getElementById("userGreeting").innerText = `Welcome, ${user}`;
    }

    function greetWithVoice() {
      const user = localStorage.getItem("username") || "User";
      const msg = new SpeechSynthesisUtterance(`Welcome back ${user}, your security dashboard is ready.`);
      msg.lang = 'en-US';
      window.speechSynthesis.speak(msg);
    }

    function showAlarmStatus() {
      const alarmTime = localStorage.getItem("alarmTime");
      if (alarmTime) {
        const now = new Date();
        const [hours, minutes] = alarmTime.split(":");
        const alarmDate = new Date();
        alarmDate.setHours(parseInt(hours));
        alarmDate.setMinutes(parseInt(minutes));
        alarmDate.setSeconds(0);
        const timeDiff = alarmDate - now;
        if (timeDiff > 0) {
          const mins = Math.floor((timeDiff / 1000 / 60) % 60);
          const hrs = Math.floor(timeDiff / 1000 / 60 / 60);
          document.getElementById("alarmInfo").innerText = `‚è∞ Alarm in ${hrs}h ${mins}m`;
        } else {
          document.getElementById("alarmInfo").innerText = "üîî Alarm time passed or ringing!";
        }
      } else {
        document.getElementById("alarmInfo").innerText = "No alarm set";
      }
    }

    function displayRandomSafetyTip() {
      const tip = safetyTips[Math.floor(Math.random() * safetyTips.length)];
      document.getElementById("safetyTip").innerText = tip;
    }

    function updateClock() {
      const now = new Date();
      const timeStr = now.toLocaleTimeString();
      document.getElementById("liveClock").innerText = timeStr;
    }

    function answerAIQuery() {
      const query = document.getElementById("aiQuery").value.toLowerCase();
      let answer = "ü§ñ Sorry, I didn't understand that. Try asking about safety tips, laws, or help.";

      if (query.includes("law") || query.includes("legal")) {
        answer = "üìò In India, women can file an FIR under IPC Section 354 for harassment. It's your right to seek protection.";
      } else if (query.includes("tip")) {
        answer = "üí° Always inform someone when you travel alone. Avoid dark or isolated paths at night.";
      } else if (query.includes("emergency") || query.includes("help")) {
        answer = "üö® Dial 112 for emergency help in India. Or use the SOS button in this app.";
      } else if (query.includes("location") || query.includes("track")) {
        answer = "üìç Your live location can be tracked via GPS if permission is granted. Always keep it turned on when outside.";
      } else if (query.includes("safe") || query.includes("safety")) {
        answer = "üõ°Ô∏è Safety starts with awareness. Stay alert, stay informed, and use this app's features.";
      }

      document.getElementById("aiAnswer").innerText = answer;

      const speak = new SpeechSynthesisUtterance(answer);
      speak.lang = 'en-US';
      window.speechSynthesis.speak(speak);
    }

    function initApp() {
      displayUserName();
      animateTitle();
      showAlarmStatus();
      greetWithVoice();
    }
  </script>
</body>
</html>

